# 7.1 栈的应用

栈(stack)是一种**先进后出**的数据结构。**栈顶指针是始终指向栈的最上方元素的一个标记**。当使用数组实现栈时，栈顶指针是一个 int 型的变量(数组下标从0开始)，通常记为 TOP，栈中没有元素(即空栈)时令TOP为-1；而当使用链表实现栈时，则是一个 `int*` 型的指针。

以下使用数组 st[] 来实现栈，而int型变量TOP表示栈顶元素的下标。栈的一些常用操作，包括清空(clear)、获取栈内元素个数(size)、判空(empty)、进栈(push)、出栈(pop)、取栈顶元素(top)等。

## 1.清空(clear)

栈的清空操作将栈顶指针TOP置为-1，表示栈中没有元素。

```cpp
void clear(){
    TOP = -1;
}
```

## 2.获取栈内元素个数(size)

由于栈顶指针TOP始终指向栈顶元素，而数组下标从0开始，因此栈内元素的数为 TOP+1。

```cpp
int size(){
    return TOP + 1;
}
```

## 3.判空(empty)

由栈顶指针TOP的定义可知，仅当TOP==-1时为栈空，返回true；否则返回false。

```cpp
bool empty(){
    if(TOP == -1)
        return true;
    return false;
}
```

## 4.进栈(push)

push(x)操作将元素x置于栈顶。由于栈顶指针TOP指向栈顶元素，因此需要先把TOP加1，然后再把x存入TOP指向的位置。

```cpp
void push(int x){
    st[++TOP] = x;
}
```

## 5.出栈(pop)

pop()操作将栈顶元素出栈，而事实上可以直接将栈顶指针TOP减1来实现这个效果。

```cpp
void pop(){
    --TOP;
}
```

## 6.取栈顶元素(top)

由于栈顶指针TOP始终指向栈顶元素，因此可以 st[TOP] 即为栈顶元素。

```cpp
int top(){
    return st[TOP];
}
```

> 需要注意的是，出栈操作和取栈顶元素操作必须再栈非空的情况下才能使用，因此**在使用pop()函数和top()函数之前必须先使用empty()函数判断是否为空**。
>
> 事实上，可以使用C++的STL中的stack容器来非常容易地使用栈。但STL中没有实现栈的清空，所以**如果需要实现栈的清空，可以用一个while循环反复pop出元素直到栈空**。更常用的方法是重新定义一个栈以变相实现栈的清空，这并不需要花很多实现，STL的stack进行定义的时间复杂度为O(1)。

```cpp
while(!st.empty()){
    st.pop();
}
```
